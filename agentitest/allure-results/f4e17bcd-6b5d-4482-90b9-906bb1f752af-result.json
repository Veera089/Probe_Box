{"name": "Test Visibility of Welcome Heading and CTA Buttons", "status": "broken", "statusDetails": {"message": "TimeoutError", "trace": "fut = <coroutine object Agent.run at 0x13c8d2260>, timeout = 90\n\n    async def wait_for(fut, timeout):\n        \"\"\"Wait for the single Future or coroutine to complete, with timeout.\n    \n        Coroutine will be wrapped in Task.\n    \n        Returns result of the Future or coroutine.  When a timeout occurs,\n        it cancels the task and raises TimeoutError.  To avoid the task\n        cancellation, wrap it in shield().\n    \n        If the wait is cancelled, the task is also cancelled.\n    \n        If the task suppresses the cancellation and returns a value instead,\n        that value is returned.\n    \n        This function is a coroutine.\n        \"\"\"\n        # The special case for timeout <= 0 is for the following case:\n        #\n        # async def test_waitfor():\n        #     func_started = False\n        #\n        #     async def func():\n        #         nonlocal func_started\n        #         func_started = True\n        #\n        #     try:\n        #         await asyncio.wait_for(func(), 0)\n        #     except asyncio.TimeoutError:\n        #         assert not func_started\n        #     else:\n        #         assert False\n        #\n        # asyncio.run(test_waitfor())\n    \n    \n        if timeout is not None and timeout <= 0:\n            fut = ensure_future(fut)\n    \n            if fut.done():\n                return fut.result()\n    \n            await _cancel_and_wait(fut)\n            try:\n                return fut.result()\n            except exceptions.CancelledError as exc:\n                raise TimeoutError from exc\n    \n        async with timeouts.timeout(timeout):\n>           return await fut\n                   ^^^^^^^^^\n\n/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:507: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nvenv/lib/python3.13/site-packages/browser_use/observability.py:73: in async_wrapper\n    return await func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/browser_use/utils.py:363: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nvenv/lib/python3.13/site-packages/browser_use/agent/service.py:1508: in run\n    await self._external_pause_event.wait()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <asyncio.locks.Event object at 0x13d2c7e30 [unset]>\n\n    async def wait(self):\n        \"\"\"Block until the internal flag is true.\n    \n        If the internal flag is true on entry, return True\n        immediately.  Otherwise, block until another task calls\n        set() to set the flag to true, then return True.\n        \"\"\"\n        if self._value:\n            return True\n    \n        fut = self._get_loop().create_future()\n        self._waiters.append(fut)\n        try:\n>           await fut\nE           asyncio.exceptions.CancelledError\n\n/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/locks.py:213: CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nself = <test_community_website.TestHomePageContent object at 0x121a32710>\nllm = ChatGoogle(model='gemini-2.5-pro', temperature=0.2, top_p=None, seed=None, thinking_budget=None, max_output_tokens=819...tials=None, project=None, location=None, http_options=None, _client=<google.genai.client.Client object at 0x13b845cd0>)\nbrowser_session = BrowserSessionðŸ…‘ 4c0d ðŸ…£ BA (cdp_url=ws://localhost:54221/devtools/browser/eb29f956-30fd-4a3f-b184-f8802111d001, profile=BrowserProfile)\n\n    @allure.story(\"Key Element Visibility\")\n    @allure.title(\"Test Visibility of Welcome Heading and CTA Buttons\")\n    async def test_welcome_elements_are_visible(\n        self,\n        llm: ChatGoogle,\n        browser_session: BrowserSession,\n    ) -> None:\n        \"\"\"Tests that the main welcome heading and CTA buttons are visible.\"\"\"\n        task: str = f\"confirm that the 'Google Developer Program forums' heading is visible on the page. Return '{self.EXPECTED_ELEMENTS_VISIBLE}' if it is.\"\n>       await self.validate_task(\n            llm,\n            browser_session,\n            task,\n            self.EXPECTED_ELEMENTS_VISIBLE,\n            ignore_case=True,\n        )\n\ntest_community_website.py:49: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nconftest.py:146: in validate_task\n    result_text: str = await run_agent_task(full_task, llm, browser_session)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nconftest.py:251: in run_agent_task\n    result = await asyncio.wait_for(agent.run(on_step_end=record_step), timeout=90)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/tasks.py:506: in wait_for\n    async with timeouts.timeout(timeout):\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Timeout [expired]>, exc_type = <class 'asyncio.exceptions.CancelledError'>, exc_val = CancelledError()\nexc_tb = <traceback object at 0x13dd3dbc0>\n\n    async def __aexit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> Optional[bool]:\n        assert self._state in (_State.ENTERED, _State.EXPIRING)\n    \n        if self._timeout_handler is not None:\n            self._timeout_handler.cancel()\n            self._timeout_handler = None\n    \n        if self._state is _State.EXPIRING:\n            self._state = _State.EXPIRED\n    \n            if self._task.uncancel() <= self._cancelling and exc_type is not None:\n                # Since there are no new cancel requests, we're\n                # handling this.\n                if issubclass(exc_type, exceptions.CancelledError):\n>                   raise TimeoutError from exc_val\nE                   TimeoutError\n\n/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/timeouts.py:116: TimeoutError"}, "description": "Tests that the main welcome heading and CTA buttons are visible.", "steps": [{"name": "Action: navigate(url=https://discuss.google.dev/, new_tab=False)", "status": "passed", "attachments": [{"name": "Agent Thoughts", "source": "a47d124c-a7df-4707-a112-4c58b3f4aa80-attachment.txt", "type": "text/plain"}, {"name": "URL", "source": "0fbd740b-a368-4382-aabf-8ad88a90257c-attachment.txt", "type": "text/plain"}, {"name": "Step Duration", "source": "34e794d4-0b4a-4126-b238-cfe0e5d375ee-attachment.txt", "type": "text/plain"}, {"name": "Screenshot", "source": "d48da36e-92c5-488d-a648-9396f900aef8-attachment.png", "type": "image/png"}], "start": 1761816040436, "stop": 1761816040594}, {"name": "Action: done(text=all_elements_visible, success=True, files_to_display=[])", "status": "passed", "attachments": [{"name": "Agent Thoughts", "source": "7c5d0cf4-11b3-44b4-b631-8760f950b540-attachment.txt", "type": "text/plain"}, {"name": "URL", "source": "ff4b8179-fa11-4377-9a9d-9eeb7351b234-attachment.txt", "type": "text/plain"}, {"name": "Step Duration", "source": "76f68386-0e7d-4e63-be04-43bdffed8d33-attachment.txt", "type": "text/plain"}], "start": 1761816047030, "stop": 1761816047031}], "attachments": [{"name": "log", "source": "dd52a501-aa91-4714-97c0-f9ddd5a030b9-attachment.txt", "type": "text/plain"}], "start": 1761816036852, "stop": 1761816127001, "uuid": "53c3145a-ab4f-4ce1-86cb-bc96c27cc682", "historyId": "d497f26fdafd2c4afa50f1bfbba87405", "testCaseId": "d497f26fdafd2c4afa50f1bfbba87405", "fullName": "test_community_website.TestHomePageContent#test_welcome_elements_are_visible", "labels": [{"name": "feature", "value": "Home Page Content"}, {"name": "story", "value": "Key Element Visibility"}, {"name": "tag", "value": "asyncio"}, {"name": "suite", "value": "test_community_website"}, {"name": "subSuite", "value": "TestHomePageContent"}, {"name": "host", "value": "rams-MacBook-Air.local"}, {"name": "thread", "value": "31437-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_community_website"}], "titlePath": ["test_community_website.py", "TestHomePageContent"]}